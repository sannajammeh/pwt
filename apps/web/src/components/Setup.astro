---
const shellWrapper = `# PWT (Personal Worktree) shell wrapper
pwt() {
  PWT_WRAPPER=1 command pwtx "$@" | while IFS= read -r line; do
    if [[ $line == CD:* ]]; then
      cd "\${line#CD:}"
    else
      echo "$line"
    fi
  done
}`;
---

<section class="mt-12">
  <h2 class="text-xs font-bold uppercase tracking-widest">Setup</h2>
  <div class="mt-4 border border-neutral-800 p-6">
    <p class="text-sm text-neutral-400">
      PWT requires a shell wrapper for automatic directory switching. Run the setup command
      to install it:
    </p>
    <div class="mt-4 border border-neutral-800 bg-neutral-900">
      <pre class="overflow-x-auto p-4 text-xs leading-relaxed"><code><span class="text-neutral-500">$</span> <span class="text-amber-300">pwt setup</span>
<span class="text-neutral-400">ðŸ”§ Shell wrapper setup for PWT</span>

<span class="text-neutral-400">Install PWT wrapper in ~/.zshrc? [Y/n]</span> <span class="text-green-400">Y</span>
<span class="text-green-400">âœ“ Shell wrapper added to ~/.zshrc</span>
<span class="text-neutral-400">  Run 'source ~/.zshrc' to activate</span>

<span class="text-neutral-400">ðŸŽ‰ Setup complete!</span></code></pre>
    </div>
    <p class="mt-4 text-sm text-neutral-400">
      The shell wrapper enables <span class="text-neutral-200">automatic cd</span> into new worktrees and
      <span class="text-neutral-200">automatic dependency installation</span> via
      <a href="https://github.com/antfu-collective/ni" target="_blank" rel="noopener noreferrer" class="text-neutral-200 hover:text-neutral-100 underline">ni</a>
      (if installed).
    </p>
  </div>
</section>

<section class="mt-12">
  <h2 class="text-xs font-bold uppercase tracking-widest">Shell Wrapper</h2>
  <div class="mt-4 border border-neutral-800">
    <div class="p-6">
      <p class="text-sm text-neutral-400">
        For manual installation or unsupported shells, add this function to your shell config:
      </p>
    </div>
    <div class="border-t border-neutral-800">
      <div class="border-b border-neutral-800 px-3 py-2 text-xs text-neutral-500">~/.zshrc</div>
      <div class="bg-neutral-900">
        <pre class="overflow-x-auto p-4 text-xs leading-relaxed text-neutral-400"><code>{shellWrapper}</code></pre>
      </div>
    </div>
  </div>
</section>
